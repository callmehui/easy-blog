<template>
  <div class="w-full bg-gray-100">
    <div class="max-w-5xl m-auto">
      <div class="grid grid-cols-12 mt-4 mb-8">
        <div
          class="px-5 py-6 pb-4 bg-white rounded shadow-sm lg:col-span-9 md:col-span-12"
        >
          <div class="about-content">
            <h2 class="pb-2 text-2xl font-semibold border-b border-gray-100">
              <span>ğŸ‘‹ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯çˆ±ç¼–ç¨‹çš„Mark!</span>
              <span>âœ¨</span>
            </h2>

            <p>
              æˆ‘æ˜¯<strong>çˆ±ç¼–ç¨‹çš„Mark</strong>ï¼Œæœ¬å<strong>é’Ÿè¾‰</strong>ï¼Œä¸€ä½å‰ç«¯å·¥ç¨‹å¸ˆã€å¼€æºä½œè€…ã€‚
            </p>

            <p>
              ä»2021å¹´7æœˆå¼€å§‹ï¼Œæˆ‘å¼€å§‹å¯¹å¼€æºæ„Ÿå…´è¶£ï¼Œäº†è§£äº†å¼€æºå¹¶å¼€å§‹ç»´æŠ¤äº†ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼š<a
                href="https://music-player.immortalboy.cn/"
                target="_blank"
                >ä»¿ç½‘æ˜“äº‘éŸ³ä¹webç‰ˆæœ¬</a
              >ï¼Œä½ å¯ä»¥åœ¨<a
                href="https://github.com/callmehui/web-music-player"
                target="_blank"
                >github</a
              >ä¸Šè®¿é—®å’Œè·å–å®ƒã€‚
            </p>

            <p>
              æˆ‘äº2017å¹´æ¯•ä¸šäº<a href="http://www.hubu.edu.cn/" target="_blank"
                >æ¹–åŒ—å¤§å­¦</a
              >ï¼Œè½¯ä»¶å·¥ç¨‹ä¸“ä¸šï¼Œæ›¾åœ¨<a href="https://www.hand-china.com/" target="_blank"
                >ä¸Šæµ·æ±‰å¾—</a
              >ã€<a href="https://www.jinrirencai.com/" target="_blank">æ·±åœ³ä»Šæ—¥äººæ‰</a
              >å’Œ<a href="https://www.casstime.com/" target="_blank">æ·±åœ³å¼€æ€æ—¶ä»£</a
              >å·¥ä½œè¿‡ã€‚
            </p>

            <p>
              ä½œä¸ºä¸€åæŠ€æœ¯å·¥ä½œè€…ï¼Œæˆ‘æœ‰ä¸€å¹´çš„å‰åç«¯å¼€å‘ç»éªŒï¼Œä¸‰å¹´çº¯å‰ç«¯å¼€å‘ç»éªŒã€‚æˆ‘åœ¨å·¥ä½œä¸­ä½¿ç”¨è¿‡åŒ…æ‹¬<strong>Javascript</strong>ã€<strong>php</strong>ã€<strong>Java</strong>åœ¨å†…çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ“…é•¿çš„å‰ç«¯æŠ€æœ¯æ ˆä¸»è¦åŒ…æ‹¬ï¼š<strong>Vue3</strong>ã€<strong>Vue</strong>ã€<strong>React</strong>ã€<strong>Typescript</strong>ã€<strong
                >Tailwind CSS</strong
              >
              ç­‰ã€‚æˆ‘ç›®å‰æœ‰å…´è¶£å¹¶å‡†å¤‡çº³å…¥ä¸ªäººå‰ç«¯æ­¦å™¨åº“çš„æŠ€æœ¯æœ‰ï¼š<strong>nuxt3</strong>(å³å°†å‘å¸ƒ)ã€<strong>quasar</strong>ã€<strong>alpine.js</strong>ç­‰ã€‚
            </p>

            <p>
              æˆ‘å–œæ¬¢å»å­¦ä¹ å’Œç ”ç©¶ä¸€äº›èƒ½å¤Ÿæå‡ä¸ªäººå¼€å‘æ•ˆç‡çš„æŠ€æœ¯ï¼Œå¸Œæœ›ç”¨å®ƒä»¬å¿«é€ŸæŠŠæˆ‘ä¹ç°çš„æƒ³æ³•å®ç°æˆå¯ç”¨çš„Demoã€‚
            </p>

            <p>
              æˆ‘çš„<router-link to="/resume">ç®€å†</router-link>æ˜¯å¯ç”¨çš„ï¼Œå¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•ã€‚
            </p>

            <p>
              ç»™æˆ‘å‘é‚®ä»¶<a href="mailto:1126765590hui@gmail.com"
                >1126765590hui@gmail.com</a
              >ï¼Œæˆ–è€…åœ¨ä¸‹æ–¹ç•™ä¸‹è¯„è®ºã€‚
            </p>
          </div>

          <Comment type="about" :id="0" />

          <div class="mt-8">
            <div class="pb-1 text-2xl font-semibold border-b border-gray-100">
              æˆ‘æœ€è¿‘çš„ç¯‡{{ state.limit }}åšæ–‡
            </div>
            <div class="my-5" v-for="article in state.list" :key="article.id">
              <router-link
                class="text-lg font-medium text-blue-500 no-underline"
                :to="`/article-detail/${article.id}`"
              >
                {{ article.title }}
              </router-link>
              <div class="text-gray-500">
                {{ formatTime(article.publishTime, "yyyyå¹´MMæœˆddæ—¥") }}
              </div>
            </div>
          </div>
        </div>

        <!-- ä¸ªäººä¿¡æ¯ -->
        <div class="col-span-3 ml-5 rounded">
          <div class="fixed w-[236px]">
            <Author />
            <Footer />
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<!-- å…³äºæˆ‘ -->
<script lang="ts" setup>
import { onMounted, reactive } from "vue";
import { apis } from "@/api";
import { http } from "@/common/js/http";
import Author from "../home/components/author/index.vue";
import Footer from "../home/components/footer/index.vue";
import { ILatestArticleListResponse, ILatestArticleListState } from "./interface";
import { formatTime } from "@/common/js/util";
import Comment from "@/components/comment/index.vue";

const state = reactive<ILatestArticleListState>({
  limit: 3,
  list: [],
});

const fetchLatestArticle = async (limit: number) => {
  const { list } = await http<ILatestArticleListResponse>(
    { url: `${apis.fetchLatestArticle}/${limit}` },
    "data"
  );
  console.log("list", list);
  state.list = list;
};

/** è‡ªå¢ç”¨æˆ·è®¿é—®é‡ */
const addUserViewCountById = async () => {
  await http({ url: apis.addUserViewCountById });
};

onMounted(() => {
  addUserViewCountById();
  fetchLatestArticle(state.limit);
});
</script>

<style lang="scss" scoped>
.about-content {
  font-size: 16px;
  p {
    margin: 1rem 0;
    line-height: 1.8;
  }

  a {
    text-decoration: underline;
    color: rgb(59, 130, 246);
  }
}
</style>
